<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>
Optimization
</title>
    <link rel="stylesheet" href="app.css" media="screen" charset="utf-8">
    <script type="text/javascript">
      // Include version 1 of the base GUI library.
      document.write(
        '<link rel="import" href="' + window.Alteryx.LibDir + '1/lib/alteryx/gui/includes.html">'
      );
    </script>
</head>
<body>
    
<form>
  <div style='display: none'>
<!--  payload  -->
<label for="payload">UI</label>
<alteryx-pluginwidget type="TextBox" password="false" id="payload" dataName="payload"></alteryx-pluginwidget>
</div>

  <!-- Landing Page -->
	<fieldset id="landing">
		<legend>Optimization</legend>
		<div id='intro-div'>
      <button class='default-button primary' id='intro'>Guide Me</button>
    </div>
		<div id='div-inputMode' class='has-hint'>
<!--  inputMode  -->
<label for="inputMode">Select input mode</label>
<alteryx-pluginwidget type="DropDown" id="inputMode" dataName="inputMode">
  <alteryx-option uiobject="Specify the model as matrices" default="true">matrix</alteryx-option>
  <alteryx-option uiobject="Enter the model manually">manual</alteryx-option>
  <alteryx-option uiobject="Specify the model from a file">file</alteryx-option>
</alteryx-pluginwidget>
</div>
	</fieldset>
  <!-- Manual Input Page -->
  <fieldset class="page" id="page-manual">
    
<!--  problemType  -->
<label for="problemType">Select problem type</label>
<alteryx-pluginwidget type="DropDown" id="problemType" dataName="problemType">
  <alteryx-option uiobject="Linear Program" default="true">LP</alteryx-option>
  <alteryx-option uiobject="Mixed Integer Program">MIP</alteryx-option>
  <alteryx-option uiobject="Quadratic Program">QP</alteryx-option>
</alteryx-pluginwidget>

    
<!--  solver  -->
<label for="solver">Select solver</label>
<alteryx-pluginwidget type="DropDown" id="solver" dataName="solver">
  <alteryx-option uiobject="Glpk" default="true">glpk</alteryx-option>
  <alteryx-option uiobject="Gurobi">gurobi</alteryx-option>
  <alteryx-option uiobject="Quadprog">quadprog</alteryx-option>
</alteryx-pluginwidget>

    <div id="manualMode1" style="display:block">
      
<!--  maximize  -->
<alteryx-pluginwidget type="CheckBox" text="Maximize Objective?" default="true" showAsToggle="true" id="maximize" dataName="maximize"></alteryx-pluginwidget>

       <!-- React Components - Constraints, Bounds -->
      <div id="manual-input"></div>
    </div>
  </fieldset>

    <!-- File Input Page -->
    <fieldset class="page" id="page-file">
      
<!--  fileType  -->
<label for="fileType">Select file type</label>
<alteryx-pluginwidget type="DropDown" id="fileType" dataName="fileType">
  <alteryx-option uiobject="CPLEX_LP" default="true">CPLEX_LP</alteryx-option>
  <alteryx-option uiobject="MathProg">MathProg</alteryx-option>
  <alteryx-option uiobject="MPS_Free">MPS_Free</alteryx-option>
</alteryx-pluginwidget>

      
<!--  solver  -->
<label for="solver">Select solver</label>
<alteryx-pluginwidget type="DropDown" id="solver" dataName="solver">
  <alteryx-option uiobject="Glpk" default="true">glpk</alteryx-option>
  <alteryx-option uiobject="Gurobi">gurobi</alteryx-option>
  <alteryx-option uiobject="Quadprog">quadprog</alteryx-option>
</alteryx-pluginwidget>

      
<!--  filePath  -->
<label for="filePath">Select file</label>
<alteryx-pluginwidget type="FileBrowse" id="filePath" dataName="filePath"></alteryx-pluginwidget>

    </fieldset>

    <!-- Matrix Page -->
    <fieldset class="page" id="page-matrix">
      
<!--  problemType  -->
<label for="problemType">Select problem type</label>
<alteryx-pluginwidget type="DropDown" id="problemType" dataName="problemType">
  <alteryx-option uiobject="Linear Program" default="true">LP</alteryx-option>
  <alteryx-option uiobject="Mixed Integer Program">MIP</alteryx-option>
  <alteryx-option uiobject="Quadratic Program">QP</alteryx-option>
</alteryx-pluginwidget>

      
<!--  solver  -->
<label for="solver">Select solver</label>
<alteryx-pluginwidget type="DropDown" id="solver" dataName="solver">
  <alteryx-option uiobject="Glpk" default="true">glpk</alteryx-option>
  <alteryx-option uiobject="Gurobi">gurobi</alteryx-option>
  <alteryx-option uiobject="Quadprog">quadprog</alteryx-option>
</alteryx-pluginwidget>

      
<!--  maximize  -->
<alteryx-pluginwidget type="CheckBox" text="Maximize Objective?" default="true" showAsToggle="true" id="maximize" dataName="maximize"></alteryx-pluginwidget>

      <div>
<!--  constraintMode  -->
<label for="constraintMode">Select constraint mode for Input Anchor A</label>
<alteryx-pluginwidget type="DropDown" id="constraintMode" dataName="constraintMode">
  <alteryx-option uiobject="Dense matrix, constraints in rows" default="true">conInRow</alteryx-option>
  <alteryx-option uiobject="Dense matrix, variables in rows">varInRow</alteryx-option>
  <alteryx-option uiobject="Sparse (SLAM) matrix">slam</alteryx-option>
</alteryx-pluginwidget>
</div>
      <hr style="margin-bottom: 10px;"/>
      
<!--  displayFieldMapO  -->
<alteryx-pluginwidget type="CheckBox" text="Display field mapping for Input Anchor O" default="false" showAsToggle="true" id="displayFieldMapO" dataName="displayFieldMapO"></alteryx-pluginwidget>
      
      <div id='field-map-O'>
        
<!--  nameVar  -->
<label for="nameVar">Select variable column</label>
<alteryx-pluginwidget type="DropDown" dataType="FieldSelector" inputNumber="0" connectionNumber="0" fieldType="All" clearable="true" id="nameVar" dataName="nameVar"></alteryx-pluginwidget>
		
        
<!--  nameCoef  -->
<label for="nameCoef">Select coefficient column</label>
<alteryx-pluginwidget type="DropDown" dataType="FieldSelector" inputNumber="0" connectionNumber="0" fieldType="All" clearable="true" id="nameCoef" dataName="nameCoef"></alteryx-pluginwidget>

        
<!--  nameLower  -->
<label for="nameLower">Select lower bound column</label>
<alteryx-pluginwidget type="DropDown" dataType="FieldSelector" inputNumber="0" connectionNumber="0" fieldType="All" clearable="true" id="nameLower" dataName="nameLower"></alteryx-pluginwidget>

        
<!--  nameUpper  -->
<label for="nameUpper">Select upper bound column</label>
<alteryx-pluginwidget type="DropDown" dataType="FieldSelector" inputNumber="0" connectionNumber="0" fieldType="All" clearable="true" id="nameUpper" dataName="nameUpper"></alteryx-pluginwidget>

        
<!--  nameType  -->
<label for="nameType">Select variable type</label>
<alteryx-pluginwidget type="DropDown" dataType="FieldSelector" inputNumber="0" connectionNumber="0" fieldType="All" clearable="true" id="nameType" dataName="nameType"></alteryx-pluginwidget>

      </div>
    </fieldset>
</form>
<style>
legend {
  width: inherit;
  border-bottom: 0px;
  margin-bottom: 0px;
}
body {
  margin: 8px;
}
label {
  font-weight: normal;
}
#intro-div{
  position: fixed;
  bottom: 5px;
  display: hidden;
}
</style>
<script src='https://cdnjs.cloudflare.com/ajax/libs/intro.js/2.2.0/intro.min.js'>
</script>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/intro.js/2.2.0/introjs.min.css' />
<script type="text/javascript">
  var map_  = {
    "inputMode": 3
  }         
  var intro = introJs();
         intro.setOptions({
            steps: [
              { 
                intro: "Welcome to Optimization!"
              },
              {
                intro: "Another One!"
              },
              {
                intro: "The input mode is...",
                element: document.getElementById("div-inputMode")
              }
            ],
            showStepNumbers: false,
            showBullets: false,
            disableInteraction: false
          });
      function startIntro(){
          console.log('starting intro')
          intro.start();
      }
      $('#intro').click(function(e){
        e.preventDefault()
        startIntro()
      })
      
      $('.has-hint label').click(function(){
        console.log('clicked...')
        var step = map_[$(this).attr('for')]
        intro.start().goToStep(step)
      })
      
</script>


  <script src="app.min.js" type="text/javascript"></script>
</body>
</html>